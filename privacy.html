<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - Padel Pals</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="Icon.png" type="image/png">
    <!-- Load Supabase JS and config loader -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config-loader.js"></script>
    <style>
        :root {
            --gold: #d4af37;
            --dark-blue: #1a2238;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            line-height: 1.6;
        }
        .navbar {
            background-color: var(--dark-blue);
        }
        .navbar-brand, .nav-link {
            color: white;
        }
        .nav-link:hover {
            color: var(--gold);
        }
        .page-header {
            background: linear-gradient(135deg, var(--dark-blue) 0%, #2a3990 100%);
            color: white;
            padding: 60px 0;
            text-align: center;
        }
        .policy-section {
            margin-bottom: 40px;
        }
        .policy-section h2 {
            color: var(--dark-blue);
            margin-bottom: 20px;
        }
        .footer {
            background-color: var(--dark-blue);
            color: white;
            padding: 40px 0;
        }
        .footer a {
            color: var(--gold);
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
    </style>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L426ZMNKFK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-L426ZMNKFK');
    </script>
    <!-- End Google Analytics -->
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="images/Icon.png" alt="Padel Pals Logo" style="height: 40px; margin-right: 10px;">
                Padel Pals
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="support.html">Support</a></li>
                    <li class="nav-item"><a class="nav-link" href="privacy.html">Privacy Policy</a></li>
                    <li class="nav-item"><a class="nav-link" href="boxleague.html">Box League</a></li>
                    <li class="nav-item"><a class="nav-link" href="guide.html">App Guide</a></li>
                    <li class="nav-item"><a class="nav-link" href="dashboard.html" id="navDashboard" style="display: none;">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link" href="auth.html" id="navSignIn">Sign In</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="page-header">
        <div class="container">
            <h1>Privacy Policy</h1>
            <p>Last updated: June 1, 2024</p>
        </div>
    </section>

    <section class="privacy-policy py-5">
        <div class="container">
            <div class="policy-section">
                <h2>Introduction</h2>
                <p>Welcome to the Padel Pals Privacy Policy. Your privacy is critically important to us. At Padel Pals, we have a few fundamental principles:</p>
                <ul>
                    <li>We collect only the minimal amount of user information required to provide our services.</li>
                    <li>We don't share your personal information with anyone except to comply with the law, develop our products, or protect our rights.</li>
                    <li>We don't store personal information on our servers unless required for the ongoing operation of one of our services.</li>
                </ul>
                <p>This Privacy Policy explains how we collect, use, and protect your information when you use our mobile application ("Padel Pals"). By using Padel Pals, you agree to the collection and use of information in accordance with this policy.</p>
            </div>

            <div class="policy-section">
                <h2>Information Collection and Use</h2>
                <p>While using our app, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you. The information we collect includes:</p>
                <ul>
                    <li><strong>Apple ID Information:</strong> When you sign in with Apple, we receive a unique identifier and, if you choose to share it, your name and email address. This is used exclusively for authentication purposes.</li>
                    <li><strong>Match Data:</strong> Information about padel matches, including scores, player names, and match dates that you choose to record in the app.</li>
                    <li><strong>Usage Data:</strong> Anonymous information about how you interact with the app to improve our services.</li>
                </ul>
                <p>All data is stored securely using Supabase, our cloud database provider.</p>
            </div>

            <div class="policy-section">
                <h2>Sign in with Apple</h2>
                <p>Padel Pals uses Sign in with Apple as its authentication method. When you choose to sign in:</p>
                <ul>
                    <li>You can choose whether to share your actual email address or use Apple's private email relay service.</li>
                    <li>We receive a unique identifier that allows us to recognize your account across sessions.</li>
                    <li>We do not have access to your Apple ID password or account details beyond what you explicitly choose to share.</li>
                    <li>You can revoke access at any time through your Apple ID settings.</li>
                </ul>
            </div>

            <div class="policy-section">
                <h2>Data Storage</h2>
                <p>Your match data and profile information are stored in our Supabase database. This information is:</p>
                <ul>
                    <li>Associated with your unique identifier from Sign in with Apple</li>
                    <li>Used to provide features like match history, player statistics, and tournament organization</li>
                    <li>Automatically synchronized across your devices when you sign in with the same Apple ID</li>
                    <li>Retained until you request deletion or delete your account</li>
                </ul>
            </div>

            <div class="policy-section">
                <h2>Data Sharing and Disclosure</h2>
                <p>We do not sell, trade, or rent your personal identification information to others. We may share generic aggregated demographic information not linked to any personal identification information regarding visitors and users with our business partners and trusted affiliates for the purposes outlined above.</p>
                <p>We may disclose your personal information only in the following circumstances:</p>
                <ul>
                    <li>To comply with a law, regulation, or legal request</li>
                    <li>To protect the safety, rights, or property of Padel Pals, our users, or others</li>
                    <li>In connection with a sale, merger, or change of control of our business</li>
                </ul>
            </div>

            <div class="policy-section">
                <h2>Data Security</h2>
                <p>We adopt appropriate data collection, storage, and processing practices and security measures to protect against unauthorized access, alteration, disclosure, or destruction of your personal information and data stored on our app and servers.</p>
                <p>However, please be aware that no method of transmission over the Internet or method of electronic storage is 100% secure and we cannot guarantee the absolute security of your data.</p>
            </div>

            <div class="policy-section">
                <h2>Analytics</h2>
                <p>We may use third-party Service Providers to monitor and analyze the use of our Service:</p>
                <ul>
                    <li><strong>Apple App Analytics:</strong> Apple's analytics service provides anonymous usage data to help us improve the app. This data is not linked to your identity.</li>
                </ul>
            </div>

            <div class="policy-section">
                <h2>Children's Privacy</h2>
                <p>Our Service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from children under 13. If you are a parent or guardian and you are aware that your child has provided us with personal data, please contact us.</p>
            </div>

            <div class="policy-section">
                <h2>Changes to This Privacy Policy</h2>
                <p>We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date at the top of this page.</p>
                <p>You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page.</p>
            </div>

            <div class="policy-section">
                <h2>Your Rights</h2>
                <p>Depending on your location, you may have certain rights regarding your personal information, including:</p>
                <ul>
                    <li>The right to access the personal information we have about you</li>
                    <li>The right to request correction or deletion of your personal information</li>
                    <li>The right to restrict or object to our processing of your personal information</li>
                    <li>The right to data portability</li>
                </ul>
                <p>To exercise any of these rights, please contact us using the information provided in the Contact section.</p>
            </div>

            <div class="policy-section">
                <h2>Contact Us</h2>
                <p>If you have any questions or suggestions about our Privacy Policy, do not hesitate to contact us at:</p>
                <p><a href="mailto:support@padelpals.app">support@padelpals.app</a></p>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Padel Pals. All rights reserved.</p>
            <p>
                <a href="support.html">Support</a> |
                <a href="privacy.html">Privacy Policy</a> |
                <a href="boxleague.html">Box League Rules</a> |
                <a href="guide.html">App Guide</a> |
                <a href="dashboard.html" id="footerDashboard" style="display: none;">Dashboard</a> |
                <a href="auth.html" id="footerSignIn">Sign In</a>
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Initialize Supabase client when config is loaded
        let supabase;
        
        // Listen for the configLoaded event from config-loader.js
        document.addEventListener('configLoaded', function() {
            console.log('Configuration loaded successfully');
            
            // Initialize Supabase with loaded configuration
            try {
                supabase = window.supabase.createClient(
                    window.config.supabaseUrl,
                    window.config.supabaseKey
                );
                
                if (supabase && supabase.auth) {
                    checkAuthStatus();
                }
            } catch (error) {
                console.error('Failed to initialize Supabase client:', error);
            }
        });
        
        // Check authentication status and update menu links
        async function checkAuthStatus() {
            try {
                const { data: { session }, error } = await supabase.auth.getSession();
                
                if (error) {
                    console.error('Error checking auth status:', error);
                    return;
                }
                
                // Get all the sign in links (nav and footer)
                const navSignInLink = document.querySelector('#navSignIn');
                const footerSignInLink = document.querySelector('#footerSignIn');
                const navDashboardLink = document.querySelector('#navDashboard');
                const footerDashboardLink = document.querySelector('#footerDashboard');
                
                if (session) {
                    // User is signed in, change links to "Sign Out"
                    if (navSignInLink) {
                        navSignInLink.textContent = 'Sign Out';
                        navSignInLink.addEventListener('click', handleSignOut);
                        navSignInLink.href = '#'; // Prevent navigation
                    }
                    
                    if (footerSignInLink) {
                        footerSignInLink.textContent = 'Sign Out';
                        footerSignInLink.addEventListener('click', handleSignOut);
                        footerSignInLink.href = '#'; // Prevent navigation
                    }
                    
                    // Show Dashboard links
                    if (navDashboardLink) {
                        navDashboardLink.style.display = '';
                    }
                    
                    if (footerDashboardLink) {
                        footerDashboardLink.style.display = '';
                    }
                    
                    console.log('User is signed in:', session.user.id);
                } else {
                    // User is not signed in, ensure links are "Sign In"
                    if (navSignInLink) {
                        navSignInLink.textContent = 'Sign In';
                        navSignInLink.href = 'auth.html';
                    }
                    
                    if (footerSignInLink) {
                        footerSignInLink.textContent = 'Sign In';
                        footerSignInLink.href = 'auth.html';
                    }
                    
                    // Hide Dashboard links
                    if (navDashboardLink) {
                        navDashboardLink.style.display = 'none';
                    }
                    
                    if (footerDashboardLink) {
                        footerDashboardLink.style.display = 'none';
                    }
                    
                    console.log('User is not signed in');
                }
            } catch (e) {
                console.error('Error in checkAuthStatus:', e);
            }
        }
        
        // Handle sign out
        async function handleSignOut(e) {
            e.preventDefault();
            
            try {
                const { error } = await supabase.auth.signOut();
                if (error) {
                    console.error('Error signing out:', error);
                } else {
                    console.log('User signed out successfully');
                    // Reload page after sign out
                    window.location.reload();
                }
            } catch (e) {
                console.error('Exception during sign out:', e);
            }
        }
    </script>
</body>
</html>
